# `if` ê°€ í•„ìš”ì—†ëŠ” ì´ìœ  

## `if` ì¡°ê±´

``` js
// ë‚˜ìœ ì˜ˆ
const welcomeMessage = ({ admin }) => {
  let message
  if (admin) message = 'Welcome, administrator!'

  return message
}
```

ê°„ë‹¨í•œ `if` ì¡°ê±´ì€ ì•„ëž˜ì™€ ê°™ì´ **ì‚¼í•­ ì—°ì‚°ìžë¡œ ëŒ€ì²´**í•  ìˆ˜ ìžˆìŠµë‹ˆë‹¤.
``` js
boolean ? valueForTrue : valueForFalse
```

``` js
// ì¢‹ì€ ì˜ˆ
const welcomeMessage = ({ admin }) =>
  admin ? 'Welcome, administrator!' : 'Welcome, user'

const welcomeMessage = ({ admin }) =>
    `Welcome, ${admin ? 'administrator' : 'user'}!`
```

--------

``` js
// ë‚˜ìœ ì˜ˆ
const welcomeMessage = ({ canMod, role }) =>
  `Welcome, ${
      canMod ? (role === ADMIN ? 'administrator' : 'moderator') : 'user'
  }!`
```

``` js
// ì¢‹ì€ ì˜ˆ
const roleText = role => (role === ADMIN ? 'administrator' : 'moderator')

const welcomeMessage = ({ canMod, role }) =>
    `Welcome, ${canMod ? roleText(role) : 'user'}!`
```

--------

## `switch` ì¡°ê±´

``` js
// ë‚˜ìœ ì˜ˆ
const welcomeMessage = ({ role }) => {
  switch (role) {
    case ADMIN:
      return 'Welcome, administrator!'
    case MOD:
      return 'Welcome, moderator!'
    default: // user
      return 'Welcome, user!'
  }
}
```

`switch` ì¡°ê±´ë¬¸ì€ NullishValue(`0`, `0n`, `null`, `undefined`, `false`, `NaN`, `''`) ì¸ ê²½ìš° `defaultValue` ë¥¼ ì‚¬ìš©í•˜ê³ , ê°’ì´ ìžˆëŠ” ê²½ìš°ì—” `possiblyNullishValue` ë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤.

``` js
possiblyNullishValue ?? defaultValue
```

``` js
const roleToText = role => ({
    [ADMIN]: 'administrator',
    [MOD]: 'moderator'
  }[role] ?? 'user')

const welcomeMessage = ({ role }) => `Welcome, ${roleToText(role)}!`
```

---------

## `try/catch` ì¡°ê±´

ì¼ë°˜ì ìœ¼ë¡œ `error` ë¥¼ ë˜ì§€ëŠ” êµ¬ë¬¸ì„ ì‹¤í–‰í•  ê²½ìš°, `try/catch` ë¡œ ê°ì‹¸ì¤ë‹ˆë‹¤.

``` js
const safeJSONParse = value => {
    let parsed
    try {
        parsed = JSON.parse(value)
    } catch {
        // Leave `parsed` `undefined` if parsing fails
    }
    return parsed
}

const works = safeJSONParse('{}') // {}
const fails = safeJSONParse('..') // undefined
```

ê·¸ëŸ¬ë‚˜ ë‹¤ë¥¸ë°©ë²•ìœ¼ë¡œ `Promise` ë¥¼ ì‚¬ìš©í• ìˆ˜ë„ ìžˆìŠµë‹ˆë‹¤. primise ê°ì²´ì•ˆì— error ë¥¼ ë˜ì§ˆê²½ìš° `catch` í•¸ë“¤ëŸ¬ê°€ ìžë™ìœ¼ë¡œ í•¸ë“¤ë§ì„ í•´ì£¼ë©°, ìœ„ êµ¬ë¬¸ì„ ëŒ€ì²´í•´ì¤ë‹ˆë‹¤. ~~(ì†”ì§ížˆ ìž˜ ì“¸ì¼ì€ ì—†ì„ë“¯)~~

``` js
const safeJSONParse = value =>
  new Promise(resolve => resolve(JSON.parse(value)))
    .catch(() => undefined)   // If it fails, just return undefined

safeJSONParse('{}').then(works => ({  /* {} */  }))
safeJSONParse('..').then(fails => ({  /* undefined */  }))

// ë˜ëŠ” async/await ë¡œë„ ì‚¬ìš© ê°€ëŠ¥í•©ë‹ˆë‹¤.
const works = await safeJSONParse('{}')  // {}
const fails = await safeJSONParse('..')  // undefined
```

-------

## `for/while` ë£¨í”„

``` js
// ðŸ§ Before
const users = [
  { name: 'Luke', age: 32 },
  { name: 'Gandalf', age: 24_000 }
]

// ì½˜ì†”ë¡œê·¸
for (const { name, age } of users) {
  console.log(`The age of ${name} is ${age}`)
}

// í‰ê·  ê³„ì‚°
let ageTotal = 0
for (const { age } of users) {
  ageTotal += age
}
console.log(`The average age is ${ageTotal / users.length}`)

// ì´ì „ array ì—ì„œ ìƒˆë¡œìš´ array ìƒì„±
const usersNextYear = []
for (const { name, age } of users) {
  usersNextYear.push({ name, age: age + 1 })
}
```

``` js
// ðŸ¤“ After
// ì½˜ì†”ë¡œê·¸
users.forEach(({ name, age }) => console.log(`The age of ${name} is ${age}`))

// í‰ê·  ê³„ì‚°
console.log(
  `The average age is ${users.reduce(
    (total, { age }, index, items) =>
      (total + age) / (index === items.length - 1 ? items.length : 1),
    0
  )}`
)

// ì´ì „ array ì—ì„œ ìƒˆë¡œìš´ array ìƒì„±
const usersNextYear = users.map(({ name, age }) => ({ name, age: age + 1 }))
```

------

``` js
// ðŸ§ Before
const ages = {
  Luke: 32,
  Gandalf: 24_000
}

// ì½˜ì†”ë¡œê·¸
for (const name in ages) {
  console.log(`The age of ${name} is ${ages[name]}`)
}

// í‰ê·  ê³„ì‚°
let ageTotal = 0
let ageCount = 0
for (const name in ages) {
  ageTotal += ages[name]
  ageCount += 1
}
console.log(`The average age is ${ageTotal / ageCount}`)

// ì´ì „ object ì—ì„œ ìƒˆë¡œìš´ object ìƒì„±
const agesNextYear = {}
for (const name in ages) {
    agesNextYear[name] = ages[name] + 1
}
```

``` js
// ðŸ¤“ After
// ì½˜ì†”ë¡œê·¸
Object.entries(ages).forEach(([name, age]) =>
  console.log(`The age of ${name} is ${age}`)
)

// í‰ê·  ê³„ì‚°
console.log(
  `The average age is ${Object.entries(ages).reduce(
    (total, [, age], index, entries) =>
      (total + age) / (index === entries.length - 1 ? entries.length : 1),
    0
  )}`
)

// ì´ì „ object ì—ì„œ ìƒˆë¡œìš´ object ìƒì„±
const agesNextYear = Object.fromEntries(
  Object.entries(ages).map(([name, age]) => [name, age + 1])
)
```

----

ì¶œì²˜ : [dev.to](https://dev.to/vangware/you-dont-need-if-37f1)