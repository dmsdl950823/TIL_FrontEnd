# URL & Resource

- [URL & Resource](#url--resource)
  - [URL 문법](#url-문법)
  - [단축 URL](#단축-url)
    - [절대 URL & 상대 URL](#절대-url--상대-url)
  - [URL 확장](#url-확장)
    - [호스트명 확장](#호스트명-확장)
    - [히스토리 확장](#히스토리-확장)
  - [스킴의 종류](#스킴의-종류)

```
  http://www.joes-hardware.com/seasonal/index-fall.html
```

* `http` - URL 의 스킴. 스킴은 웹 클라이언트가 resource에 **어떻게** 접근하는지 알려줍니다.
* `www.joes-hardware.com` - 서버의 위치. 리소스가 **어디에** 호스팅 되어있는지 알려줍니다.
* `seasonal/index-fall.html` - 리소스의 경로. 경로는 서버에 존재하는 로컬 리소스들 중에서 요청받은 리소스가 무엇인지 알려줌.

[그림]

URL 은 HTTP 가 아닌 다른 프로토콜을 사용할 수도 있습니다.

```
  mailto:president@whitehouse.gov
  ftp://lots-o-books.com/pub/complete-price-list.xls
  rtsp://www.joes-hardware.com:554/interview/cto_video
```

* `mailto` - 이메일 주소를 가리킴
* `ftp` - FTP(File Transfer Protocol) 서버에 올라가있는 파일를 가리킴
* `rtsp` - 스트리밍을 제공하기 위해 비디오 서버에 호스팅하고있는 영화를 가리킴

대부분의 URL 은 **단일 방식의 작명규칙**을 가지며,  `스킴://서버위치/경로` 구조로 이루어져 있습니다. 

---------
## URL 문법

대부분의 URL 스킴 문법은 일반적으로 9개의 부분으로 나뉩니다.

```
  <스킴>://<사용자이름>:<비밀번호>@<호스트>:<포트>/<경로>;<파라미터>?<질의>#<프래그먼트>
```

| 컴포넌트   | 설명                                                                                                                 | 기본값 |
| ---------- | -------------------------------------------------------------------------------------------------------------------- | ------ |
| 스킴       | 어떤 프로토콜을 사용하여 서버에 접근할지 설정                                                                        |        |
| 사용자이름 | 필요시 리소스에 접근하기위해 사용자 이름 제공                                                                        |        |
| 비밀번호   | 필요시 사용자의 비밀번호 입력                                                                                        |        |
| 호스트     | 리소스를 호스팅하는 서버의 호스트명 or IP 주소                                                                       |        |
| 포트       | 리소스를 호스팅하는 서버가 열어놓은 포트번호 (HTTP 의 기본 포트는 80)                                                |        |
| 경로       | 서버 내 리소스가 어디에 있는지 가리킴. 문법은 서버/스킴에 따라 다를 수 있음.                                         |        |
| 파라미터   | 특정 스킴들에서 입력 파라미터를 기술하는 용도로 사용. `이름/값` 쌍 으로 이루어짐. 여러개 입력 가능                   |        |
| 질의       | 스킴에서 애플리케이션에 파라미터를 전달하는데 쓰임.                                                                  |        |
| 프래그먼트 | 리소스의 조각, 일부분을 가리키는 이름. URL 이 특정 객체를 가리킬 경우에 프래그먼트 필드는 서버에 전달 X. `#` 로 구분 |        |

* 사용자 이름 & 비밀번호
  ```
    1. ftp://ftp.prep.ai.mit.edu/pub/gnu
    2. ftp://anonymous@ftp.prep.ai.mit.edu/pub/gnu
    3. ftp://anonymous:my_password@ftp.prop.ai.mit.edu/pub/gnu
    4. http://joe:joespasswd@joes-hardware.com/sales_info.txt
  ```
  * FTP 같이 사용자 이름, 비번을 요구하는 URL 스킴을 사용한다면, 값이 없을 경우 기본 값을 넣어둡니다.
  * 기본 사용자 이름 값은 `anonymous`가, 비밀번호는 웹 브라우저마다 갖고있는 기본값을 사용합니다.

* 파라미터
  ```
    ftp://prep.ai.mit.edu/pub/gnu;type=d
    http://joes-hardware.com/hammers;sale=false/index.html;graphics=true
  ```
  * URL 을 사용하는 애플리케이션이 리소스에 접근하려면 프로토콜 파라미터가 필요합니다.
  * **파라미터 컴포넌트**는 애플리케이션이 서버에 정확한 요청을 하기 위해 파라미터에 필요한 내용을 받습니다. 
  * `key=value` 로 이루어져있으며 `;` 로 구분합니다.

* 질의 문자열
  ```
    http://joes-hardware.com/inventory-check.cgi?item=12731
  ```
  * `?` 우측의 값을 **질의 컴포넌트**라고 합니다.
  * 게이트웨이를 가리키는 URL 의 경로 컴포넌트와 함께 전달합니다.

* 프래그먼트
  ```
    http://joes-hardware.com/tools.html#drills
  ```
  * **프래그먼트 컴포넌트** 는 리소스의 특정 부분을 가리킬 수 있습니다.
  * `#` 문자 뒤에 위치합니다.

---------

## 단축 URL

### 절대 URL & 상대 URL

* **절대 URL** : 리소스에 접근하는데 필요한 모든 정보를 담고있음
* **상대 URL** : URL 을 짧게 표기하는 방법. 기저 URL(base URL) 을 시용하여 정보를 가져와야함.

``` html
  <a href="./page.html">Go To Page</a>
```

## URL 확장

### 호스트명 확장

> `google`   =>   `www.google.com`

**호스트명 확장 기능을 지원하는 브라우저**는 단순한 휴리스틱만을 사용해서 입력한 호스트명을 전체 호스트명으로 확장할 수 있습니다.

브라우저는 이런 간단한 기능을 제공하여 사용자의 **입력 시간을 절약**하고 혼란을 막아줍니다.

~~하지만 호스트명 확장 기능은 프락시와 같은 다른 HTTP 애플리케이션에 문제를 발생시킬 수 도있습니다.~~

### 히스토리 확장

> `http://www.you` => `https://www.youtube.com/`

사용자가 URL 을 입력하는 시간을 줄이고자, 브라우저가 **과거에 사용자가 방문했던 URL 의 기록을 저장**해놓는 것입니다.
이렇게 하면 사용자는 전체 URL 을 입력하는 대신 선택만 하면 됩니다.


## 스킴의 종류

| 스킴            | 설명                                                                                                                                                                                |
| --------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `http`          | 일반 URL 형식을 지키는 *하이퍼 전송 프로토콜(Hypertext Transfer Protocol)*, 기본 포트값 - `80`                                                                                      |
| `https`         | HTTP 커넥션의 양 끝난에서 암호화하기 위해 *보안 소켓 계층(SEcure Sockets Layer, SSL)* 을 사용, 기본 포트값 `443`                                                                    |
| `maito`         | 이메일 주소. 표준 URL 과는 다른 형식. RFC 822 문법에 기술되어있음                                                                                                                   |
| `ftp`           | `파일 전송 프로토콜(File Transfer Protocol)` URL 은 FTP 서버에 있는 파일 다운로드/업로드 및 콘텐츠 목록을 가져올 수 있음. 데이터에 접근하는 용도의 스킴으로 사용. 일반적은 URL 형식 |
| `rtsp`, `rtspu` | *실시간 스트리밍 프로토콜 (Real Time Streaming Protocol)* 을 통해 읽을 수 있는 오디오/비디오 미디어 리소스 식별자. `rtspu` 는 UDP 프로토콜 사용 의미.                               |
| `file`          | 주어진 호스트 기기 (로컬 디스크, 네트워크 파일 시스템, 공유 시스템 등) 에서 바로 접근할 수 있는 파일을 나타냄.                                                                      |
| `news`          | 특정 문서나 뉴스 그룹에 접근하는데 사용.                                                                                                                                            |
| `telnet`        | 대화영 서비스에 접근하는데 사용.                                                                                                                                                    |