# Lights

Light ë¥¼ ë„£ëŠ” ì¼ì€ ê°„ë‹¨í•©ë‹ˆë‹¤. ì ì ˆí•œ class ë¥¼ ì‚¬ìš©í•˜ì—¬ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ë§Œë“¤ê³  `scene` ì— ì¶”ê°€í•˜ë©´ ë©ë‹ˆë‹¤.

Lightì—ë„ ì—¬ëŸ¬ íƒ€ì…ì´ ìˆìŠµë‹ˆë‹¤.

# Setup

light ë¥¼ ì‚¬ìš©í•  ê²ƒ ì´ê¸° ë•Œë¬¸ì—, light ì— ë°˜ì‘í•˜ëŠ” material ì„ ì‚¬ìš©í•´ì•¼í•©ë‹ˆë‹¤. ì—¬ê¸°ì„œëŠ” ê°€ì¥ ì§„ì§œ ê°™ì€ [MeshStandardMaterial](https://threejs.org/docs/index.html#api/en/materials/MeshStandardMaterial) ì„ ì‚¬ìš©í•  ê²ƒ ì…ë‹ˆë‹¤. 

# AmbientLight

[AmbientLight](https://threejs.org/docs/index.html#api/en/lights/AmbientLight)ëŠ” ì „ë°©í–¥ì˜ lightë¥¼ sceneì˜ ëª¨ë“  geometryì— ì ìš©í•©ë‹ˆë‹¤. ë§¤ê°œë³€ìˆ˜ëŠ” `color` ì™€ `intensity` ì…ë‹ˆë‹¤. material ì„ ìœ„í•´ì„œëŠ”, propertyë¥¼ ì§ì ‘ì ìœ¼ë¡œ ì„¸íŒ…í•´ì¤ë‹ˆë‹¤.

``` js
  const ambientLight = new THREE.AmbientLight(0xffffff, 0.5)
  scene.add(ambientLight)
```

ëª¨ë“  geometryì— ë™ì¼í•˜ê²Œ ë¹„ì¶°ì§€ê¸° ë•Œë¬¸ì— [AmbientLight](https://threejs.org/docs/index.html#api/en/lights/AmbientLight) ëŠ” [MeshBasicMaterial](https://threejs.org/docs/index.html#api/en/materials/MeshBasicMaterial) ê³¼ ê°™ì€ íš¨ê³¼ë¥¼ ë‚¸ë‹¤ëŠ” ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

ì‹¤ì œë¡œ ë¬¼ì²´ì— ë¹›ì„ ë¹„ì¶œê²½ìš°, ë°˜ëŒ€í¸ì— ë¹›ì´ ë“¤ì–´ì˜¤ë©´ objectì˜ ì˜†ë©´ì€ ì™„ì „íˆ ê²€ì •ìƒ‰ì€ ì•„ë‹™ë‹ˆë‹¤. ë¹›ì´ ë²½ì´ë‚˜ ë‹¤ë¥¸ ë¬¼ì²´ë“¤ì— ì˜í•´ì„œ ë°˜ì‚¬ë˜ê¸° ë•Œë¬¸ì…ë‹ˆë‹¤. ë¹› ë°˜ì‚¬ëŠ” Three.js ì—ì„œ í¼í¬ë¨¼ìŠ¤ ë¬¸ì œë¡œ ì§€ì›í•˜ì§€ ì•Šì§€ë§Œ, ì–•ì€ AmbientLight ë¥¼ ì‚¬ìš©í•˜ì—¬ ì¡´ì¬í•˜ëŠ”ì²™ ë§Œë“¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

# DirectionalLight

[DirectionalLight](https://threejs.org/docs/index.html#api/en/lights/DirectionalLight) ëŠ” íƒœì–‘ê´‘ì´ ë¹„ì¶”ëŠ” íƒœì–‘ê³¼ ê°™ì€íš¨ê³¼ë¥¼ ëƒ…ë‹ˆë‹¤. ë§¤ê°œë³€ìˆ˜ëŠ” `color`, `intensity` ë¥¼ ê°€ì§€ê³  ìˆìŠµë‹ˆë‹¤.

``` js
  // ğŸ§¨ DirectionalLight
  const directionalLight = new THREE.DirectionalLight(0x0ffffc, 0.3)
  directionalLight.position.set(1, 0.25, 0)

  scene.add(directionalLight)
```

ê¸°ë³¸ì ìœ¼ë¡œ, light ëŠ” ìœ„ì—ì„œ ì˜¤ëŠ”ê²ƒ ì²˜ëŸ¼ ë³´ì´ë¯€ë¡œ, ì „ì²´ light ë¥¼ `position` í”„ë¡œí¼í‹°ë¥¼ ì´ìš©í•˜ì—¬ ì „ì²´ light ë¥¼ ì›€ì§ì…ë‹ˆë‹¤.

<div style="float:left; overflow: hidden">
  <img src="https://threejs-journey.xyz/assets/lessons/14/step-04.png" width=400>
  <img src="./threejs_images/14-light-directionalLight.PNG" width=350/>
</div>

# HemisphereLight

[HemisphereLight](https://threejs.org/docs/index.html#api/en/lights/HemisphereLight) ëŠ” AmbientLight ì™€ ìœ ì‚¬í•˜ì§€ë§Œ, HemisphereLight í•˜ëŠ˜ì—ì„œ, ë•…ì—ì„œ ì˜¤ëŠ” ìƒ‰ìƒ ë‘ê°€ì§€ë¥¼ ê°€ì§€ê³ ìˆëŠ” ê²ƒì´ íŠ¹ì§•ì…ë‹ˆë‹¤.

* ì²« ë²ˆì§¸ ë§¤ê°œë³€ìˆ˜ëŠ” sky color - `color` ì´ë©°,
* ë‘ ë²ˆì§¸ ë§¤ê°œë³€ìˆ˜ëŠ” ground color - `groundColor`,
* ì„¸ ë²ˆì§¸ ë§¤ê°œë³€ìˆ˜ëŠ” `intensty` ì…ë‹ˆë‹¤.

```js
  // ğŸ§¨ HemisphereLight
  const hemisphereLight = new THREE.HemisphereLight(0xff0000, 0x0000ff, 0.3)

  scene.add(hemisphereLight)
```
<div style="float:left; overflow: hidden">
  <img src="./threejs_images/14-light-hemisphereLight1.PNG" width=300/>
  <img src="./threejs_images/14-light-hemisphereLight2.PNG" width=200/>
  <img src="./threejs_images/14-light-hemisphereLight3.PNG" width=300/>
</div>

# PointLight

[PointLight](https://threejs.org/docs/index.html#api/en/lights/PointLight) ëŠ” ê±°ì˜ ë¼ì´í„°ë‘ ë¹„ìŠ·í•©ë‹ˆë‹¤. light ìš”ì†ŒëŠ” êµ‰ì¥íˆ ì‘ê³ , ë¹›ì€ ì¼ì •í•˜ê²Œ, ëª¨ë“  ë°©í–¥ìœ¼ë¡œ ë»—ì–´ë‚˜ê°‘ë‹ˆë‹¤. `color`, `intensity`, `distance`, `decay` ë§¤ê°œë³€ìˆ˜ë¥¼ ë°›ìŠµë‹ˆë‹¤.

ê¸°ë³¸ì ìœ¼ë¡œ, light ì˜ ê°•ë„ (`intensity`)ëŠ” í¬ë¯¸í•˜ì§€ ì•Šì§€ë§Œ, `distance` ì™€ `decay` í”„ë¡œí¼í‹°ë¥¼ ì‚¬ìš©í•˜ì—¬ fade ë¥¼ ì„¤ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

``` js
  // ğŸ§¨ PointLight
  const pointLight = new THREE.PointLight(0xffff00, 0.9, 3)
  pointLight.position.set(1, -0.5, 1)

  scene.add(pointLight)
```

<img src="./threejs_images/14-light-pointlight.PNG" width=300/>

# RectAreaLight

[RectAreaLight](https://threejs.org/docs/index.html#api/en/lights/RectAreaLight) ëŠ” ì‚¬ì§„ê´€ì—ì„œ ë³¼ ìˆ˜ ìˆëŠ” í° ë„¤ëª¨ ëª¨ì–‘ì˜ light ì…ë‹ˆë‹¤. directional light ì™€ diffuse light ë¥¼ í˜¼í•©í•œ ê²ƒ ì…ë‹ˆë‹¤. `color`, `intensity`, ë„¤ëª¨ì˜ `width`, `height` ë§¤ê°œë³€ìˆ˜ë¥¼ ë°›ìŠµë‹ˆë‹¤.

``` js
  // ğŸ§¨ RectAreaLight
  const rectAreaLight = new THREE.RectAreaLight(0x4e00ff, 2, 2, 1)
  rectAreaLight.position.set(-1.5, 0, 1.5)
  rectAreaLight.lookAt(new THREE.Vector3()) // 0, 0, 0 ==> center

  scene.add(rectAreaLight)
```

<img src="./threejs_images/14-light-rectAreaLight.PNG" width=300/>

RectAreaLight ëŠ” [MeshStandardMaterial](https://threejs.org/docs/#api/en/materials/MeshStandardMaterial) ì™€ [MeshPhysicalMaterial](https://threejs.org/docs/#api/en/materials/MeshPhysicalMaterial) ì—ë§Œ ì ìš©ë©ë‹ˆë‹¤.

light ë¥¼ ì›€ì§ì¼ìˆ˜ë„, íšŒì „ì‹œí‚¬ ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤. rotation ì„ ì‰½ê²Œ í•˜ê¸°ìœ„í•´ì„œ, `lookAt()` ë©”ì„œë“œë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤.

[Vector3](https://threejs.org/docs/index.html#api/en/math/Vector3) ëŠ” ë§¤ê°œë³€ìˆ˜ë¥¼ `x`, `y`, `z` ìˆœìœ¼ë¡œ ë°›ìœ¼ë©°, `0` ë˜ëŠ” ë§¤ê°œë³€ìˆ˜ë¥¼ ë„˜ê¸°ì§€ ì•Šìœ¼ë©´ ê¸°ë³¸ì ìœ¼ë¡œ `center` ì— ìœ„ì¹˜í•©ë‹ˆë‹¤.

# SpotLight

[SpotLight](https://threejs.org/docs/index.html#api/en/lights/SpotLight) ëŠ” íŠ¹ì • í¬ì¸íŠ¸ì—ì„œ ì„¤ì •ëœ ë°©í–¥ì„ í–¥í•´ ê°•í•œ ì›ë¿” í˜•íƒœì˜ ë¹›ì„ ë¹„ì¶°ì¤ë‹ˆë‹¤. ë§¤ê°œë³€ìˆ˜ë¡œëŠ”, 

* `color`: ìƒ‰ìƒ
* `intensity`: ê°•ë„
* `distance` : (ê°•ë„ê°€ 0 ê¹Œì§€ ë–¨ì–´ì§€ëŠ”) ê±°ë¦¬
* `angle`: beam ì˜ í¬ê¸° (ì›ì˜ ë„ˆë¹„)
* `penumbra`: beam ì˜ ìœ¤ê³½ì„ ì´ ì–¼ë§ˆë‚˜ ë¿Œì˜‡ê²Œ ë ì§€ ì„¤ì •
* `decay`: ë°ê¸°

``` js
  // ğŸ§¨ SpotLight
  // ...
  
  spotLight.target.position.x = -1
  scene.add(spotLight.target)
```

<img src="./threejs_images/14-light-SpotLight1.PNG" width=300/>
  
``` js
  const spotLight = new THREE.SpotLight(0x78ff00, 0.5, 10, Math.PI * 0.1, 0.25, 1)
  spotLight.position.set(0, 2, 3)
  scene.add(spotLight)
```

SpotLight ë¥¼ rotate í•˜ëŠ”ê±´ ì¡°ê¸ˆ ì–´ë µìŠµë‹ˆë‹¤. í•´ë‹¹ ì¸ìŠ¤í„´ìŠ¤ëŠ” [Object3D](https://threejs.org/docs/index.html#api/en/core/Object3D) í˜•íƒœì¸ `target` ì´ë¼ëŠ” í”„ë¡œí¼í‹°ë¥¼ ê°–ìŠµë‹ˆë‹¤. SpotLight ëŠ” í•­ìƒ `target` objectë¥¼ ë°”ë¼ë³´ê³  (looking at) ìˆìŠµë‹ˆë‹¤. ê·¸ëŸ¬ë‚˜ ì´ position ì„ ì´ë™ì‹œí‚¬ê²½ìš°, SpotLight ëŠ” ê¼¼ì§ë„ í•˜ì§€ ì•Šì„ ê²ƒ ì…ë‹ˆë‹¤.

<img src="./threejs_images/14-light-SpotLight1.PNG" width=300/>

`target` ì´ `scene` ì— ì¶”ê°€ë˜ì§€ ì•Šì•˜ê¸° ë•Œë¬¸ì…ë‹ˆë‹¤. ê°„ë‹¨í•˜ê²Œ `target` ì„ scene ì— ì¶”ê°€í•˜ë©´ ë™ì‘í•©ë‹ˆë‹¤.

  <img src="./threejs_images/14-light-SpotLight2.PNG" width=300/>

# Performance

Light ëŠ” ì˜ ì‚¬ìš©ë˜ë©´ ì§„ì§œê°™ê³ , ë©‹ì§„ ìš”ì†Œì…ë‹ˆë‹¤. ë¬¸ì œëŠ” light ëŠ” í¼í¬ë¨¼ìŠ¤ì—ì„œ ë©”ëª¨ë¦¬ë¥¼ ë§ì´ ì†Œëª¨í•©ë‹ˆë‹¤. ë¹›ì˜ ê±°ë¦¬, ì–¼ë§Œí¼ ë¹›ì´ ë“¤ì–´ì˜¤ëŠ”ì§€, spot light ì˜ ì›ë¿”í˜•ì´ ì–¼ë§ˆë‚˜ í°ì§€... ë“±... GPU ëŠ” ê³„ì‚°ì„ ë§ì´ í•´ì•¼í•©ë‹ˆë‹¤.

ê°€ëŠ¥í•œí•œ ì ì€ ê°¯ìˆ˜ì˜, ì ì€ ë¹„ìš©ì˜ light ë¥¼ ì‚¬ìš©í•˜ì„¸ìš”

| Minimal cost    | Moderate cost    | High cost     |
| --------------- | ---------------- | ------------- |
| AmbientLight    | DirectionalLight | SpotLight     |
| HemisphereLight | PointLight       | RectAreaLight |

# Baking

light ë¥¼ ì‚¬ìš©í•˜ëŠ” ì¢‹ì€ í…Œí¬ë‹‰ì€ baking ì„ í•˜ëŠ” ê²ƒ ì…ë‹ˆë‹¤.
ì´ ì•„ì´ë””ì–´ëŠ” light ë¥¼ textureì— bake í•˜ëŠ” ê²ƒ ì…ë‹ˆë‹¤. ì´ê±´ 3D software ì—ì„œ ê°€ëŠ¥í•©ë‹ˆë‹¤. ì•ˆíƒ€ê¹ê²Œë„ ë§ì€ texture ë“¤ì„ í•„ìš”ë¡œ í•˜ê¸° ë•Œë¬¸ì— light ë¥¼ ì›€ì§ì—¬ ê²°ê³¼ë¥¼ ë³¼ ìˆ˜ëŠ” ì—†ìŠµë‹ˆë‹¤.

<img src="https://threejs-journey.xyz/assets/lessons/14/baked.jpg" width=500>

# Helpers

light ì˜ ìœ„ì¹˜ì™€ ë°©í–¥ì„ ì„¤ì •í•˜ëŠ”ê²ƒì€ ì–´ë µìŠµë‹ˆë‹¤. ì´ê²ƒì„ ë•ê¸°ìœ„í•´ helper ê°€ í•„ìš”í•©ë‹ˆë‹¤. 

* [HemisphereLightHelper](https://threejs.org/docs/index.html#api/en/helpers/HemisphereLightHelper)
* [DirectionalLightHelper](https://threejs.org/docs/index.html#api/en/helpers/DirectionalLightHelper)
* [PointLightHelper](https://threejs.org/docs/index.html#api/en/helpers/PointLightHelper)
* [RectAreaLightHelper](https://threejs.org/docs/index.html#examples/en/helpers/RectAreaLightHelper)
* [SpotLightHelper](https://threejs.org/docs/index.html#api/en/helpers/SpotLightHelper)

ì‚¬ìš©í•˜ê¸° ìœ„í•´ì„ , ê°„ë‹¨í•˜ê²Œ í•´ë‹¹ í´ë˜ìŠ¤ë“¤ì„ ì¸ìŠ¤í„´ìŠ¤í™” ì‹œì¼œì£¼ë©´ ë©ë‹ˆë‹¤. ì²« ë²ˆì§¸ ë§¤ê°œë³€ìˆ˜ë¡œ ì„ ì–¸í•œ light ë“¤ì„ ë°›ê³ , ë‘ë²ˆì§¸ ë§¤ê°œë³€ìˆ˜ëŠ”  helper ì˜ `size` ì…ë‹ˆë‹¤. ê·¸ë¦¬ê³  scene ì— ì¶”ê°€í•˜ë©´ ë©ë‹ˆë‹¤.

``` js
  /**
   * ğŸˆ Light Helpers
   */
  const hemisphereLightHelper = new THREE.HemisphereLightHelper(hemisphereLight, 0.2)
  scene.add(hemisphereLightHelper)

  const directionalLightHelper = new THREE.DirectionalLightHelper(directionalLight, 0.5)
  scene.add(directionalLightHelper)

  const pointLightHelper = new THREE.PointLightHelper(pointLight, 0.2)
  scene.add(pointLightHelper)
```


<div style="float:left; overflow: hidden">
  <img src="./threejs_images/14-light-helper2.PNG" width=350/>
  <img src="./threejs_images/14-light-helper1.PNG" width=300/>
</div>

SpotLightHelper ëŠ” `size` ë§¤ê°œë³€ìˆ˜ê°€ ì—†ìœ¼ë©°, target ì„ ì›€ì§ì¸ í›„, ë‹¤ìŒ frame ì—ì„œ `update()` ë©”ì„œë“œë¥¼ í˜¸ì¶œí•´ì•¼í•©ë‹ˆë‹¤.

``` js
  const spotLightHelper = new THREE.SpotLightHelper(spotLight)
  scene.add(spotLightHelper)
  window.requestAnimationFrame(() => {
      spotLightHelper.update()
  })
```

<img src="./threejs_images/14-light-helper3.PNG" width=400/>

RectAreaLightHelper ëŠ” ë” ì‚¬ìš©í•˜ê¸° ì–´ë µìŠµë‹ˆë‹¤. ì§€ê¸ˆì€ í•´ë‹¹ í´ë˜ìŠ¤ê°€ `THREE` ë³€ìˆ˜ì— ì¼ë¶€ê°€ ì•„ë‹ˆë¯€ë¡œ `examples` dependencyë¥¼ ì´ìš©í•˜ì—¬ ìƒë‹¨ì— `import` ì‹œì¼œì¤ë‹ˆë‹¤.

``` js
  import { RectAreaLightHelper } from 'three/examples/jsm/helpers/RectAreaLightHelper.js'
```

ê·¸ í›„ì— ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

``` js
  const rectAreaLightHelper = new RectAreaLightHelper(rectAreaLight)
  scene.add(rectAreaLightHelper)
```

  <img src="./threejs_images/14-light-helper4.PNG" width=400/>
